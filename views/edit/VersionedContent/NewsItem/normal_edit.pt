<span
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva_news"

  tal:define="global silva_root here/silva_root;
    model request/model; 
    global vein string:contents;
    view here;
    fields python:view.form.get_fields();
    split_render_after string:code;
    lastclass string:even;
    editable python:model.get_editable()"
  tal:omit-tag=""
>
 
<form method="POST" name="form" action="submit">
<table class="listing" width="100%" cellspacing="0" cellpadding="0" border="0">

<thead>
  <tr>
    <td class="invisible" width="16">&nbsp;</td>
    <td class="top"
      colspan="3">
      <h2 tal:attributes="title string:id: ${model/id}">
        <img tal:replace="structure python:view.render_icon(model)" />
        <span tal:replace="model/meta_type" />
        &#xab;<span tal:replace="structure string:${model/get_title_or_id}">title</span>&#xbb;
      </h2>
    </td>
    <td class="invisible" width="16">&nbsp;</td>
  </tr>
</thead>

<tbody>
  <tr>
  <td class="invisible" width="16">&nbsp;</td>
  <th class="align-right" style="border-left:1px solid #617681;" width="15%">
  element
  </th>
  <th i18n:translate="">
  content
  </th>
  <th i18n:translate="" width="20%">
  note
  </th>
  <td class="invisible" width="60">&nbsp;</td>
  </tr>

  <fieldset tal:omit-tag=""
    tal:repeat="field fields">
  <rowset tal:omit-tag=""
    tal:define="global oddrow repeat/field/odd">

  <definition tal:define="global class  python:test(lastclass=='even', 'even', 'odd'); global lastclass class" tal:omit-tag="" />
  <tr tal:attributes="class class">
  <td class="invisible" width="16">&nbsp;</td>
  <td class="field-title" style="border-left:1px solid #617681;">
  <span tal:replace="python:field['title']">title</span><span class="warning"
    tal:condition="python:field.is_required()">*</span>
  </td>
  <td>
  <input tal:replace="structure python:view.render_field_helper(field)" />
  </td>
  <td>
  <span tal:replace="python:field.get_value('description')">
  comments here (field description)
  </span>&nbsp;
  </td>
  <td class="invisible" width="60" align="right" valign="top">&nbsp;</td>
  </tr>
  </rowset>

  <content-editor tal:omit-tag=""
    tal:condition="python:field.id == 'object_title'">
  <tr comment="AgendaItem content" class="odd" valign="top"
    tal:attributes="class class" tal:define="class python:test(lastclass=='odd', 'even', 'odd'); global lastclass class">
    <td width="16" class="invisible" >&nbsp;</td>
    <td class="field-title" style="border-left:1px solid #617681;"><div class="controls"><a class="transport" href="tab_edit_kupu?show_editor=1" i18n:translate="">content editor...</a></div></td>
    <td><p tal:replace="structure view/get_content" /><p tal:condition="not: view/get_content" tal:replace="structure string:(nothing filled in)" /></td>
    <td>&nbsp;</td>
    <td class="invisible" width="60" align="right" valign="top">&nbsp;</td>
  </tr>
  </content-editor>
  </fieldset>

  <tr class="odd" valign="top" tal:attributes="class python:test(lastclass=='odd', 'even', 'odd')">
  <td class="invisible" width="16">&nbsp;</td>
  <td i18n:translate="" class="field-title" style="border-left:1px solid #617681;">
  subjects
  </td>
  <td align="left">
  <tal:block repeat="subject editable/subjects">
  <span tal:replace="python: view.service_news.subject_title(subject)" />
  <br />
  </tal:block>
  </td>
  <td>
  &nbsp;
  </td>
  <td class="invisible" width="60" align="right" valign="top">&nbsp;</td>
  </tr>

  <tr class="odd" valign="top" tal:attributes="class lastclass">
  <td class="invisible" width="16">&nbsp;</td>
  <td i18n:translate="" class="field-title" style="border-left:1px solid #617681;">
  target audiences
  </td>
  <td align="left">
  <tal:block repeat="ta editable/target_audiences">
  <span tal:replace="python: view.service_news.target_audience_title(ta)" />
  <br />
  </tal:block>
  </td>
  <td>
  &nbsp;
  </td>
  <td class="invisible" width="60" align="right" valign="top">&nbsp;</td>
  </tr>

  <tr class="controls">
  <td class="invisible" width="16">&nbsp;</td>
  <td>&nbsp;</td>
  <td><div class="controls"><a class="transport" href="sta_mode" i18n:translate="">modify subjects and target audiences...</a></div></td>
  <td class="align-right" style="border-left:1px solid #617681;">
  <input class="button" type="submit"
         name="form_submitted" value="save item"
         title="save item: alt-s" accesskey="s"
         i18n:attributes="title value"
         />
  </td>
  <td class="invisible" width="60" align="right" valign="top">&nbsp;</td>
  </tr>
</tbody>
</table>

</form>

<p class="halfline">&nbsp;</p>

</span>
