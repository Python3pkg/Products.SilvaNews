<tal:block define="global breadcrumb_vein string:Contents;" />
<!-- ___________________________ start index_html ______________________ -->
<html  metal:use-macro="here/macro_index/macros/master">
<div metal:fill-slot="main" tal:omit-tag="">
<!-- ___________________________ start index_html/slot main ____________________________ -->

<tal:block define="global view here;
                   global model here/REQUEST/model;
                   global user_role view/get_user_role;
                   global silva_root view/silva_root;
                   global results python:model.find_sources();
                   global startat python:path('request/start | nothing') or path('options/startat | nothing') or 0;
                   global batch python:modules['ZTUtils'].Batch(results, size=10, start=int(startat));
                   global sources python:view.prepare_sources(batch);
                   global previous python:batch.previous;
                   global next python:batch.next;
                   " />

<div class="margins">
<h2>Manage <span class="folder-title" tal:content="structure string:&raquo;${model/get_title_html}&laquo;">title here</span></h2>

<tal:comment condition="nothing">Begin PublicationTable</tal:comment>

<form action="." name="silvaSources" method="POST">

<table width="98%" cellspacing="0" cellpadding="3" border="0"
  tal:attributes="cellspacing container/table_cellspacing;
                  cellpadding container/table_cellpadding;
                  border container/table_border">


<span tal:replace="nothing"> ______________ table header ______________ </span>
<tr tal:condition="python:len(sources) != 0">
<th align="left" width="3%" nowrap="1">Use</th>
<th align="left" width="40%">Id</th>
<th align="left">Title</th>
</tr>

<span tal:replace="nothing"> ______________ listing iteration ______________ </span>
<toc_entry tal:omit-tag=""
  tal:repeat="source sources">
<tal:define define="obj source/object;
                    id source/index;
                    object_url python:obj.getPath();
                    ">
<cycle tal:define="oddrow repeat/source/odd" tal:omit-tag="">
<tr class="focus-cycle"
  tal:attributes="class python:test(oddrow, 'focus', 'focus-cycle')">

<span tal:replace="nothing"> _______ checkbox + icon _______ </span>
<td nowrap="1">
<input type="checkbox" name="cb:list" value="value"
 tal:attributes="value string:cb_${id}; checked source/check_checkbox" />
<a href="edit" title="Edit this source"
  tal:attributes="href string:${object_url}/edit/tab_edit">
<img tal:replace="structure python:view.render_icon(obj.meta_type)" />
</a>
</td>

<span tal:replace="nothing"> _______ id cell _______ </span>
<td>
<a title="Edit this item"
  tal:attributes="href string:${object_url}/edit"
  tal:content="object_url">id
</a>
</td>

<span tal:replace="nothing"> _______ title cell _______ </span>
<td>
<tal:block condition="python:obj.get_title_html != ''">
<img style="height:100%" width="32" height="18" align="left"
  tal:attributes="src string:${silva_root}/globals/pixel.gif" />
<a class="blacklink" title="Preview this item"
  tal:attributes="href string:${object_url}/edit/tab_preview">
<b tal:content="structure string:${obj/get_title_html}">title</b>
</a>
</tal:block>
<tal:block condition="python:obj.get_title_html == ''">
&nbsp;
</tal:block>
</td>

</tr>

</cycle>
</tal:define>
</toc_entry>

<span tal:replace="nothing"> ______________ if no records ______________ </span>
<check tal:condition="python:len(sources) == 0 and not model.get_default()">
<tr class="focus-light">
<td colspan="3">
There are no newssources available
</td>
</tr>
<tr class="divider">
<td colspan="3"><img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="1" height="1" /></td>
</tr>
</check>
<!-- /iteration -->


<check tal:condition="python:len(sources) != 0">
<script type="text/javascript">
<!--
isSelected = false;

function toggleSelect() {
  if (isSelected == false) {
    for (i = 0; i < document.silvaObjects.length; i++)
      document.silvaObjects.elements[i].checked = true ;
      isSelected = true;
      document.silvaObjects.selectButton.value = "Deselect all";
      return isSelected;
  }
  else {
    for (i = 0; i < document.silvaObjects.length; i++)
      document.silvaObjects.elements[i].checked = false ;
      isSelected = false;
      document.silvaObjects.selectButton.value = "Select all";
      return isSelected;
  }
}
//-->
</script>

<span tal:replace="nothing"> ______________ controls for chief ______________ </span>
<tr class="controls"
  tal:condition="python:user_role == 'Editor'">
<td colspan="3">
<script type="text/javascript">
<!--
if (document.forms[0]) {
  document.write('<input class="button" type="submit" name="selectButton" value="Select all" title="Select all items" onClick="toggleSelect(); return false">')
  }
//-->
</script>
&nbsp;
<input type="hidden" name="start" tal:attributes="value startat">
<input class="button" type="submit" name="use_sources:method" value="Update sources" title="Use selected sources in this filter" />
&nbsp;
</td>
</tr>

</check>

</table>

</form>

<table width="100%">
<tr>
<td width="50%" align="left">&nbsp;<a href="#" tal:attributes="href string:${model/absolute_url}/edit/tab_edit?start:int=${previous/first}&show_details=${show_details}" tal:condition="previous">Previous</a></td>
<td width="50%" align="right">&nbsp;<a href="#" tal:attributes="href string:${model/absolute_url}/edit/tab_edit?start:int=${next/first}&show_details=${show_details}" tal:condition="next">Next</a></td>
</tr>
</table>
</div>

<!-- ___________________________ end index_html/slot main ____________________________ -->
</div>
</html>
<!-- ___________________________ end index_html ______________________________________ -->
