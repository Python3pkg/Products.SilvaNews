<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva_news"
  tal:define="
    global vein string:contents;
">

<metal:block use-macro="here/macro_index/macros/master">
<metal:block fill-slot="main"
  tal:define="
    default_document model/get_default;
    default_doc_list python: test(default_document, [default_document], []);
    publishables python: default_doc_list + model.get_ordered_publishables();
    assets model/get_assets;
    iterate python: 0;
">

<tal:block omit-tag=""
  define="session request/SESSION;
          fields session/fields;
          fieldkeys python:view.order_by_form(view.tab_edit_bulk_edit_form, fields.keys());
          foundobjects python:[fields[key] for key in fieldkeys if fields[key] is not None] # empty if no objects;
          ">

<form method="POST" name="form" action="tab_edit_bulk_submit">
  <table class="columns columns2">
    <tbody>
      <tr>
        <tal:block replace="nothing">
          _____________________ sidebar _____________________
        </tal:block>
        <td class="left">
          <metal:use-macro use-macro="view/macro_vein_navigation/macros/vein">
            <metal:fill-slot fill-slot="sidebar">
              <tal:block replace="structure python: view.service_sidebar.render(model, 'tab_edit', vein)" />
            </metal:fill-slot>
          </metal:use-macro>
        </td>

        <tal:block replace="nothing">
          _____________________ main _____________________
        </tal:block>
        <td class="main">

    <table class="listing">
      <thead>
        <tal:block replace="nothing">
          ______________ vein + title row ______________
        </tal:block>
        <tr>
          <td class="top"
            colspan="4">
            <h2>
              <img tal:replace="structure python:view.render_icon(model)" />
              <span style="text-transform:lowercase;" tal:content="model/meta_type">Meta type</span> 
              &#xab;<tal:block content="model/get_title_or_id" />&#xbb;
              <span i18n:translate="">settings</span>
            </h2>
          </td>
        </tr>
      </thead>

<tr>
  <th i18n:translate="" align="left" width="15%">
    Element
  </th>
  <th align="right">
    &nbsp;
  </th>
  <th i18n:translate="" align="left">
    Content
  </th>
  <th i18n:translate="" align="left" width="30%">
    Note
  </th>
</tr>

<fieldset class="logic"
  tal:repeat="key fieldkeys"
  tal:omit-tag="" tal:condition="foundobjects">
<rowset class="logic"
    tal:omit-tag="" tal:condition="python:fields[key] is not None" tal:define="field python:view.tab_edit_bulk_edit_form.get_field(key); oddrow repeat/key/odd">

<tr class="odd" valign="top"
  tal:attributes="class python:test(oddrow, 'odd', 'even')">
  <td style="align: right">
    <span tal:replace="structure string:${field/title}:">Title</span>
  </td>
  <td style="align: right">
      &nbsp;
  </td>
  <td>
    <input tal:replace="structure python:view.tab_edit_bulk_edit_form.get_field(key).render(fields[key])" tal:condition="python: fields[key] != '__DO_NOT_FILL_FIELD__' and key != 'more_info_links'" />
    <input tal:replace="structure python:view.tab_edit_bulk_edit_form.get_field(key).render(view.render_more_info_links_field(fields[key]))" tal:condition="python: fields[key] != '__DO_NOT_FILL_FIELD__' and key == 'more_info_links'" />
    <input tal:replace="structure python:view.tab_edit_bulk_edit_form.get_field(key).render()" tal:condition="python: fields[key] == '__DO_NOT_FILL_FIELD__'" />
  </td>
  <td>
    <span i18n:translate="" tal:condition="python: fields[key] == '__DO_NOT_FILL_FIELD__'" style="color:red">
      The objects have different values.
    </span>
  </td>
</tr>
</rowset>
</fieldset>
<tr class="controls" tal:condition="python:[fields[key] for key in fieldkeys if fields[key] is not None] # empty if no objects">
  <td colspan="4" align="right">
    <input class="button" type="submit"
      name="form_submitted" value=" change item "
      tal:attributes="value string: Save data " />
  </td>
</tr>
        
<tal:block condition="not:foundobjects">

<tr class="focus">
  <td i18n:translate="" colspan="4" align="left">
    There are no publishable objects found.
  </td>
</tr>
     
<tr class="controls">
  <td colspan="4" class="align-right">
    &nbsp;
  </td>
</tr>
     
</tal:block>
   
</table>
</form>

</tal:block>

</metal:block>
</metal:block>
</html>
