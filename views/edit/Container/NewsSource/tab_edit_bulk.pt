<tal:block define="global breadcrumb_vein string:Contents;" />
<!-- ___________________________ start index_html ______________________ -->
<html  metal:use-macro="here/macro_index/macros/master">
<div metal:fill-slot="main" tal:omit-tag="">
<!-- ___________________________ start index_html/slot main ____________________________ -->

<init tal:omit-tag=""
  tal:define="global view here;
              global model request/model;
              global session request/SESSION;
              global fields session/fields;
              global fieldkeys python:view.order_by_form(view.tab_edit_bulk_edit_form, fields.keys());
              global foundobjects python:[fields[key] for key in fieldkeys if fields[key] is not None] # empty if no objects;
              global numrows python:0;
              " />

<div class="margins">
  <h2>
    Bulk-editing data of <span class="folder-title" tal:content="structure string:&laquo;${model/get_title_html}&raquo;">title here</span>
  </h2>
</div>


<form method="POST" name="form" action="tab_edit_bulk_submit">
<table width="100%" cellspacing="0" cellpadding="3" border="0">
<tr>
  <th align="left" width="15%">
    Element
  </th>
  <th align="right">
    &nbsp;
  </th>
  <th align="left">
    Content
  </th>
  <th align="left" width="30%">
    Note
  </th>
</tr>

<fieldset class="logic"
  tal:repeat="key fieldkeys"
  tal:omit-tag="" tal:condition="foundobjects">
<rowset class="logic"
    tal:omit-tag="" tal:condition="python:fields[key] is not None" tal:define="field python:view.tab_edit_bulk_edit_form.get_field(key)">

<tr class="focus" valign="top"
  tal:attributes="class python:test(numrows % 2 == 0, 'focus', 'focus-cycle')" tal:define="global numrows python:numrows + 1">
  <td align="right">
    <span tal:replace="structure string:${field/title}:">Title</span>
  </td>
  <td align="right">
      &nbsp;
  </td>
  <td align="left">
    <input tal:replace="structure python:view.tab_edit_bulk_edit_form.get_field(key).render(fields[key])" tal:condition="python: fields[key] != '__DO_NOT_FILL_FIELD__' and key != 'more_info_links'" />
    <input tal:replace="structure python:view.tab_edit_bulk_edit_form.get_field(key).render(view.render_more_info_links_field(fields[key]))" tal:condition="python: fields[key] != '__DO_NOT_FILL_FIELD__' and key == 'more_info_links'" />
    <input tal:replace="structure python:view.tab_edit_bulk_edit_form.get_field(key).render()" tal:condition="python: fields[key] == '__DO_NOT_FILL_FIELD__'" />
  </td>
  <td>
    <span tal:condition="python: fields[key] == '__DO_NOT_FILL_FIELD__'" style="color:red">
      The objects have different values.
    </span>
  </td>
</tr>
</rowset>
</fieldset>
<tr class="controls" tal:condition="python:[fields[key] for key in fieldkeys if fields[key] is not None] # empty if no objects">
  <td colspan="4" align="right">
    <input class="button" type="submit"
      name="form_submitted" value=" change item "
      tal:attributes="value string: Save data " />
  </td>
</tr>
        
<tal:block condition="not:foundobjects">

<tr class="focus">
  <td colspan="4" align="left">
    There are no publishable objects found.
  </td>
</tr>
     
<tr class="controls">
  <td colspan="4" align="right">
    &nbsp;
  </td>
</tr>
     
</tal:block>
   
</table>
</form>

</div>
</html>
