<span
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva_news"

  tal:define="global model request/model; 
              global view here; 
              global version options/version; 
              global formatdate nocall:view/service_news/format_date" 
              tal:omit-tag=""
>

  <h2 class="heading newsitemheading" tal:content="structure python:version.get_title()" />

  <div class="newsiteminfo">
    <tal:block 
        tal:define="publicationdate python: formatdate(version.get_metadata_element('silva-extra', 'publicationtime'));
                    displaydate python: formatdate(version.display_datetime(), version.display_time());"
                    >
          <p class="p newsiteminfopublicationdate">
            <tal:translate i18n:translate="">Publication date:</tal:translate>
            <span class="newsitempublicationdate"
                tal:condition="python: not displaydate"
                tal:content="structure publicationdate" />
            <span class="newsitempublicationdate"
                tal:condition="python: displaydate"
                tal:content="structure displaydate" />
           </p>
    </tal:block>
    <p class="p newsiteminfodatetime">
      <tal:translate i18n:translate="">Date and time:</tal:translate><br />
    <tal:block 
        tal:define="startdate python: formatdate(version.start_datetime(), version.display_time());
                    enddate python: formatdate(version.end_datetime(), version.display_time())"
        tal:condition="startdate">
          <tal:translate i18n:translate="">Start:</tal:translate>
          <span class="newsitemstartdate" tal:content="startdate" /><br />
          <tal:translate i18n:translate="" tal:condition="enddate">End:</tal:translate>
          <span class="newsitemenddate" tal:content="enddate" />          
    </tal:block>
    </p>
  </div>

       <div class="newsitemcontent" tal:content="structure python:view.get_content(version)" />

</span>
