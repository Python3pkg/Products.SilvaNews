<span
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva_news"

  tal:define="global model request/model; 
              global view here; 
              global version options/version; 
              global formatdate nocall:view/service_news/format_date" 
              tal:omit-tag=""
>

  <h2 class="heading newsitemheading" tal:content="structure python:version.get_title()" />

  <div class="newsiteminfo">
    <tal:publicationinfo 
        tal:define="publicationdate python: formatdate(version.get_metadata_element('silva-extra', 'publicationtime'));
                    displaydate python: formatdate(version.display_datetime(), version.display_time());"
        tal:condition="publicationdate">
            <p 
                class="p newsiteminfopublicationdate"
                tal:condition="python: publicationdate or displaydate">
            <tal:translate i18n:translate="">Publication date:</tal:translate>
            <span class="newsitempublicationdate"
                tal:define="date_public_view displaydate | publicationdate | nothing"
                tal:condition="date_public_view"
                tal:content="structure date_public_view" />
           </p>
    </tal:publicationinfo>
    <p class="p newsiteminfodatetime"
        tal:define="startdate python: formatdate(version.start_datetime(), version.display_time());
                    enddate python: formatdate(version.end_datetime(), version.display_time())"
        tal:condition="python: startdate or enddate">
      <tal:translate i18n:translate="">Date and time:</tal:translate><br />
      <tal:if condition="startdate">
          <tal:translate i18n:translate="">Start:</tal:translate>
          <span class="newsitemstartdate" tal:content="startdate" /><br />
      </tal:if>
      <tal:if condition="enddate">
          <tal:translate i18n:translate="">End:</tal:translate>
          <span class="newsitemenddate" tal:content="enddate" />          
      </tal:if>
    </p>
  </div>

       <div class="newsitemcontent" 
            tal:content="structure python:view.get_content(version)" />

</span>
