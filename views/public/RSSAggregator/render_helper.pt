<div tal:omit-tag="" 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva_news"
  tal:define="
   view here;
   model view/REQUEST/model;
   result python:model.get_merged_feed_contents();
">

<h2 tal:define="title model/get_title | nothing"
    tal:condition="title"
    tal:content="title">
  view news
</h2>

<tal:feed
    tal:repeat="item result">
<span tal:replace="item/parent_channel/uri" />
<h4 class="feed"
    tal:define="title item/title | nothing"
    tal:condition="title" 
    tal:content="structure python:title" />
<p class="feed"
    tal:define="description item/description | nothing"
    tal:condition="description"
  tal:content="structure description">
  feed snippet
</p>
<p class="feedlink"
><a tal:define="link item/link"
    tal:condition="link" 
    tal:attributes="href link"
    i18n:translate="">view article</a>
 | <a tal:define="p item/parent_channel;uri p/uri;title p/title"
     tal:condition="title"
     tal:omit-tag="not:uri"
     tal:attributes="href uri"
     tal:content="structure string:[$title]" />
  </p>
</tal:feed>
</div>
